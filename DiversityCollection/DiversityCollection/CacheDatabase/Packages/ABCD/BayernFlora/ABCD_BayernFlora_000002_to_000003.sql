--#####################################################################################################################
--#####################################################################################################################
--Skript for Update of Postgres package BayernFloraABCD to version 3
--replace "#project#" with Name of the project
--the string at the begin of the line --## is used to mark end and begin of a command
--#####################################################################################################################
--#####################################################################################################################


--#####################################################################################################################
--######   ABCD__BayernFlora_WrongStatusUnitID - adding 99   ##########################################################
--#####################################################################################################################

CREATE OR REPLACE VIEW "#project#"."ABCD__BayernFlora_WrongStatusUnitID" AS 
SELECT "IdentificationUnitID"
  FROM "#project#"."CacheIdentificationUnitAnalysis"
  WHERE "AnalysisID" = 2 AND "AnalysisResult" IN ('2', '3', '4', '5', '6', '7', '8', '9', '?', '+', '-', 'F', 'V', 'X', '99');


--#####################################################################################################################
--######   version   ##################################################################################################
--#####################################################################################################################

UPDATE "#project#"."PackageAddOn" SET "Version" = 3 WHERE "Package" = 'ABCD' AND "AddOn" = 'ABCD_BayernFlora'

