<UserControl x:Class="WpfControls.Geometry.UserControlGeometry"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:WpfControls.Geometry"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="0"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"></ColumnDefinition>
            <ColumnDefinition Width="Auto"></ColumnDefinition>
            <ColumnDefinition Width="Auto"></ColumnDefinition>
            <ColumnDefinition></ColumnDefinition>
            <ColumnDefinition Width="Auto"></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <Canvas Grid.Column="2" Grid.ColumnSpan="2" Grid.Row="0" Grid.RowSpan="11" x:Name="canvas" HorizontalAlignment="Stretch" Height="Auto" Margin="4,4,4,4" VerticalAlignment="Stretch" Width="Auto">
            <Image x:Name="image" Margin="0,10,0,0"></Image>
        </Canvas>
        <Rectangle x:Name="HintergrundToolstrip" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Grid.RowSpan="11" Fill="#FFEEEEEE" Stroke="DarkGray" StrokeThickness="1">
        </Rectangle>
        <Button ToolTip="Add a rectangle or redesign the current geometry" Grid.ColumnSpan="1" Grid.Column="0" Grid.Row="0" x:Name="buttonAddRectangle" Content="□" HorizontalAlignment="Left" Height="22" Margin="4,4,0,0" Padding="0,-9,0,0" VerticalAlignment="Top" Width="24" FontWeight="Heavy" Foreground="Red" FontSize="22" RenderTransformOrigin="0.5,0.5"/>
        <Button ToolTip="Clear geometry" Grid.ColumnSpan="1" Grid.Column="0" Grid.Row="1" x:Name="buttonClear" Content="×" HorizontalAlignment="Left" Height="22" Margin="4,4,0,0" Padding="0,-3,0,0" VerticalAlignment="Top" Width="24" FontWeight="Bold" Foreground="Red" FontSize="22"/>
        <!--<Button ToolTip="Add a polygone" Grid.ColumnSpan="1" Grid.Column="0" Grid.Row="1" x:Name="buttonAddPolygone" Content="⌂" HorizontalAlignment="Left" Height="22" Margin="4,4,0,0" Padding="0,-3,0,0" VerticalAlignment="Top" Width="24" FontWeight="Heavy" Foreground="Red" FontSize="18" RenderTransformOrigin="0.5,0.5" IsEnabled="False">
            <Button.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform Angle="180"/>
                    <TranslateTransform/>
                </TransformGroup>
            </Button.RenderTransform>
        </Button>-->
        <Button Visibility="Hidden" ToolTip="Add next rectangle" Grid.ColumnSpan="1" Grid.Column="0" Grid.Row="2" x:Name="buttonAddNext" Content="⧉" HorizontalAlignment="Left" Height="22" Margin="4,4,0,0" Padding="0,-5,0,0" VerticalAlignment="Top" Width="24" FontWeight="Heavy" Foreground="Red" FontSize="16" RenderTransformOrigin="0.5,0.5" IsEnabled="False"/>
        <!--<Button Visibility="Hidden" ToolTip="Add a point" Grid.ColumnSpan="1" Grid.Column="0" Grid.Row="2" x:Name="buttonAddPoint" Content="∙" HorizontalAlignment="Left" Height="22" Margin="4,4,0,0" Padding="0,-9,0,0" VerticalAlignment="Top" Width="24" FontWeight="Heavy" Foreground="Red" FontSize="22" RenderTransformOrigin="0.5,0.5" IsEnabled="False"/>-->
        <Button ToolTip="Edit points in object" Grid.ColumnSpan="1" Grid.Column="0" Grid.Row="3" x:Name="buttonEditPoints" HorizontalAlignment="Left" Height="22" Margin="4,4,0,0" Padding="0,-6,0,0" VerticalAlignment="Top" Width="24" RenderTransformOrigin="0.5,0.5" BorderBrush="#FF707070">
            <Viewbox xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" Stretch="Uniform">
                <Canvas Name="svgStift" Width="60" Height="80">
                    <Canvas.RenderTransform>
                        <TranslateTransform X="94" Y="-26"/>
                    </Canvas.RenderTransform>
                    <Canvas.Resources>
                        <LinearGradientBrush xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" x:Key="linearGradient2686" MappingMode="RelativeToBoundingBox" StartPoint="0,0" EndPoint="1,1">
                            <LinearGradientBrush.GradientStops>
                                <GradientStopCollection>
                                    <GradientStop Color="#FFFD2002" Offset="0"/>
                                    <GradientStop Color="#00FD2002" Offset="1"/>
                                </GradientStopCollection>
                            </LinearGradientBrush.GradientStops>
                        </LinearGradientBrush>
                        <LinearGradientBrush xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" x:Key="linearGradient2688" MappingMode="Absolute" StartPoint="-3,2" EndPoint="15,2">
                            <LinearGradientBrush.GradientStops>
                                <GradientStopCollection>
                                    <GradientStop Color="#FFFD2002" Offset="0"/>
                                    <GradientStop Color="#00FD2002" Offset="1"/>
                                </GradientStopCollection>
                            </LinearGradientBrush.GradientStops>
                            <LinearGradientBrush.Transform>
                                <MatrixTransform Matrix="0.78024799 0 0 0.81420326 22.680539 13.161672"/>
                            </LinearGradientBrush.Transform>
                        </LinearGradientBrush>
                    </Canvas.Resources>
                    <Canvas Name="layer1">
                        <Canvas.RenderTransform>
                            <TranslateTransform X="-77.821582" Y="-56.080265"/>
                        </Canvas.RenderTransform>
                        <Canvas Name="g11759">
                            <Canvas.RenderTransform>
                                <RotateTransform Angle="45"/>
                            </Canvas.RenderTransform>
                            <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Name="path60858" Fill="#FFD8BA8E" StrokeThickness="0.752249" Stroke="#FF08090F" StrokeMiterLimit="4" Opacity="0.988372">
                                <Path.Data>
                                    <PathGeometry Figures="m 258.3684 498.52287 -35.85083 -60.92704 -35.85083 -60.92705 70.68978 -0.58421 70.68979 -0.58421 -34.83895 61.51126 z" FillRule="NonZero"/>
                                </Path.Data>
                                <Path.RenderTransform>
                                    <MatrixTransform Matrix="-0.09631607 0.00209592 0.00377806 0.17766351 125.04358 29.675531"/>
                                </Path.RenderTransform>
                            </Path>
                            <Rectangle xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="94.818771" Canvas.Top="50.945793" Width="13.647774" Height="11.335241" Name="rect846" Fill="#FFD60409" StrokeThickness="0" Stroke="{StaticResource linearGradient2688}" StrokeMiterLimit="4">
                                <Rectangle.RenderTransform>
                                    <MatrixTransform Matrix="0.99999998 -2.0245561e-4 5.9027858e-4 0.99999983 0 0"/>
                                </Rectangle.RenderTransform>
                            </Rectangle>
                            <Rectangle xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="94.819855" Canvas.Top="61.462124" Width="13.65095" Height="7.9479799" Name="rect870" Fill="#FF004455" StrokeThickness="0" Stroke="#FF08090F" StrokeMiterLimit="4" Opacity="0.99">
                                <Rectangle.RenderTransform>
                                    <MatrixTransform Matrix="0.99999998 -2.1728441e-4 5.4999441e-4 0.99999985 0 0"/>
                                </Rectangle.RenderTransform>
                            </Rectangle>
                            <Rectangle xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="94.831749" Canvas.Top="69.326729" Width="3.4856226" Height="27.843752" Name="rect2981" Fill="#FFD09E24" StrokeThickness="0" Stroke="#FF08090F" StrokeMiterLimit="4" Opacity="0.99">
                                <Rectangle.RenderTransform>
                                    <MatrixTransform Matrix="0.99999994 -3.3633407e-4 3.5531701e-4 0.99999994 0 0"/>
                                </Rectangle.RenderTransform>
                            </Rectangle>
                            <Rectangle xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="105.09378" Canvas.Top="69.329407" Width="3.3912344" Height="27.888372" Name="rect29815" Fill="#FFD09E24" StrokeThickness="0" Stroke="#FF08090F" StrokeMiterLimit="4" Opacity="0.99">
                                <Rectangle.RenderTransform>
                                    <RotateTransform Angle="-0.01980688"/>
                                </Rectangle.RenderTransform>
                            </Rectangle>
                            <Rectangle xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="98.318039" Canvas.Top="69.327652" Width="6.9609456" Height="27.843752" Name="rect298153" Fill="#FFFDB403" StrokeThickness="0" Stroke="#FF08090F" StrokeMiterLimit="4" Opacity="0.99">
                                <Rectangle.RenderTransform>
                                    <RotateTransform Angle="-0.01980688"/>
                                </Rectangle.RenderTransform>
                            </Rectangle>
                            <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Name="path10159" Fill="#FF0A0703" StrokeThickness="0" Stroke="#FF08090F" StrokeMiterLimit="4" Opacity="0.988372">
                                <Path.Data>
                                    <PathGeometry Figures="m 152.4576 404.08011 -9.34741 -16.19019 -9.34741 -16.19018 18.69482 0 18.69481 0 -9.3474 16.19018 z" FillRule="NonZero"/>
                                </Path.Data>
                                <Path.RenderTransform>
                                    <MatrixTransform Matrix="0.13786481 -0.00179393 0.00339942 0.26116456 79.628839 13.826232"/>
                                </Path.RenderTransform>
                            </Path>
                        </Canvas>
                    </Canvas>
                </Canvas>
            </Viewbox>
        </Button>
        <Button ToolTip="Add point" x:Name="buttonAdd" Content="+" HorizontalAlignment="Left" IsEnabled="False" Height="16" Margin="8,2,0,0" Padding="0,-2,0,0" Grid.ColumnSpan="1" Grid.Row="4" VerticalAlignment="Stretch" Width="20" Foreground="Gray" FontWeight="Bold"/>
        <Button ToolTip="Add point" x:Name="buttonDelete" Content="x" HorizontalAlignment="Left" IsEnabled="False" Height="16" Margin="8,2,0,0" Padding="0,-2,0,0" Grid.ColumnSpan="1" Grid.Row="5" VerticalAlignment="Stretch" Width="20" Foreground="Gray" FontWeight="Bold"/>
        <Slider ToolTip="Zoom image" Value="1" Maximum="4" Minimum="0.1" Orientation="Vertical" BorderThickness="1" Grid.ColumnSpan="1" Grid.Column="1" Grid.Row="0" Grid.RowSpan="11" x:Name="slider" HorizontalAlignment="Stretch" Margin="4,4,4,4" VerticalAlignment="Stretch" Width="8" Height="Auto" BorderBrush="Black">
            <Slider.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="Black"/>
                    <GradientStop Color="White" Offset="0.77"/>
                    <GradientStop Color="Black" Offset="1"/>
                </LinearGradientBrush>
            </Slider.Background>
        </Slider>
        <TextBlock ToolTip="Zoom factor" x:Name="ZoomFactor" Grid.Column="0" Grid.ColumnSpan="1" Grid.Row="6" Grid.RowSpan="1" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="10"></TextBlock>
        <Button ToolTip="Show whole image" x:Name="buttonZoomAdapt" Grid.Column="0" Grid.ColumnSpan="1" Grid.Row="7" Grid.RowSpan="1" Margin="4,4,0,0" Click="ButtonZoomAdapt_Click">
            <Viewbox xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" Stretch="Uniform">
                <Canvas Name="svgZoomAdapt" Width="16" Height="16">
                    <Canvas.RenderTransform>
                        <TranslateTransform X="0" Y="0"/>
                    </Canvas.RenderTransform>
                    <Canvas>
                        <Canvas.RenderTransform>
                            <ScaleTransform ScaleX="0.08" ScaleY="0.08"></ScaleTransform>
                        </Canvas.RenderTransform>
                        <Canvas>
                            <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Name="path90" Fill="#FF000000" StrokeThickness="0.25" Stroke="#FF000000" StrokeLineJoin="Miter" StrokeStartLineCap="Flat" StrokeEndLineCap="Flat">
                                <Path.Data>
                                    <PathGeometry Figures="M 0 0 H 50 L 0 50 Z" FillRule="NonZero"/>
                                </Path.Data>
                            </Path>
                            <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Name="path906" Fill="#FF000000" StrokeThickness="0.25" Stroke="#FF000000" StrokeLineJoin="Miter" StrokeStartLineCap="Flat" StrokeEndLineCap="Flat">
                                <Path.Data>
                                    <PathGeometry Figures="M 0 200 V 150 L 50 200 Z" FillRule="NonZero"/>
                                </Path.Data>
                            </Path>
                            <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Name="path9060" Fill="#FF000000" StrokeThickness="0.25" Stroke="#FF000000" StrokeLineJoin="Miter" StrokeStartLineCap="Flat" StrokeEndLineCap="Flat">
                                <Path.Data>
                                    <PathGeometry Figures="m 200 200 h -50 l 50 -50 z" FillRule="NonZero"/>
                                </Path.Data>
                            </Path>
                            <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Name="path90603" Fill="#FF000000" StrokeThickness="0.25" Stroke="#FF000000" StrokeLineJoin="Miter" StrokeStartLineCap="Flat" StrokeEndLineCap="Flat">
                                <Path.Data>
                                    <PathGeometry Figures="M 200 0 V 50 L 150 0 Z" FillRule="NonZero"/>
                                </Path.Data>
                            </Path>
                            <Rectangle xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="20" Canvas.Top="40" Width="160" Height="120" Name="rect791" Fill="#FF333333" StrokeThickness="0.4"/>
                            <Rectangle xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="25" Canvas.Top="45" Width="150" Height="110" Name="rect7912" Fill="#FFFFFFFF" StrokeThickness="0.4"/>
                            <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Name="path1001" Fill="#FF666666" StrokeThickness="0.358181" Stroke="#FF000000" StrokeLineJoin="Miter" StrokeStartLineCap="Flat" StrokeEndLineCap="Flat">
                                <Path.Data>
                                    <PathGeometry Figures="m 25 155 35 -35 35 35 55 -65 25 25 v 40 z" FillRule="NonZero"/>
                                </Path.Data>
                            </Path>
                        </Canvas>
                    </Canvas>
                </Canvas>
            </Viewbox>
        </Button>
        <Button ToolTip="Show detail" x:Name="buttonZoomDetail" Grid.Column="0" Grid.ColumnSpan="1" Grid.Row="8" Grid.RowSpan="1" Margin="4,4,0,0" Click="ButtonZoomDetail_Click">
            <Viewbox xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" Stretch="Uniform">
                <Canvas Name="svgZoomDetail" Width="16" Height="16">
                    <Canvas.RenderTransform>
                        <TranslateTransform X="0" Y="0"/>
                    </Canvas.RenderTransform>
                    <Canvas>
                        <Canvas.RenderTransform>
                            <ScaleTransform ScaleX="0.08" ScaleY="0.08"></ScaleTransform>
                        </Canvas.RenderTransform>
                        <Rectangle xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="0" Canvas.Top="180" Width="100" Height="30" Name="rect2839" Fill="#FF000080" StrokeThickness="0.3">
                            <Rectangle.RenderTransform>
                                <RotateTransform Angle="-45"/>
                            </Rectangle.RenderTransform>
                        </Rectangle>
                        <Ellipse xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="50" Canvas.Top="0" Width="150" Height="150" Name="path2589" Fill="#FF000080" StrokeThickness="0.3"/>
                        <Ellipse xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="60" Canvas.Top="10" Width="130" Height="130" Name="path2713" Fill="#FF00FFFF" StrokeThickness="0.3"/>
                        <Rectangle xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="85" Canvas.Top="50" Width="85" Height="50" Name="rect2966" Fill="#FFFF0000" StrokeThickness="0.3"/>
                        <Rectangle xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Canvas.Left="95" Canvas.Top="60" Width="65" Height="30" Name="rect3137" Fill="#FF00FFFF" StrokeThickness="0.3"/>
                    </Canvas>
                </Canvas>
            </Viewbox>
        </Button>
        <Button ToolTip="Set zoom to 1:1" x:Name="button100" Content="1:1" HorizontalAlignment="Left" Height="23" Margin="4,4,0,0" Grid.ColumnSpan="1" Grid.Row="9" VerticalAlignment="Stretch" Width="24" FontWeight="Bold"/>
        <Button ToolTip="Set scale" x:Name="buttonScale" Content="↔" HorizontalAlignment="Left" Height="16" Margin="4,4,0,4" Grid.ColumnSpan="1" Grid.Row="10" Grid.RowSpan="2" Padding="0,-6,0,0"  VerticalAlignment="Stretch" Width="24" Foreground="Blue" FontWeight="Heavy" FontSize="20"/>
        <TextBox x:Name="TextScale" Visibility="Hidden" ToolTip="Width of scale in meter" Grid.Column="2" Grid.Row="10" Margin="0,0,0,4" Foreground="Blue" Text="1" HorizontalAlignment="Right" VerticalAlignment="Center" MinWidth="20"></TextBox>
        <Label x:Name="ScaleUnit" Visibility="Hidden" Grid.Row="10" Grid.Column="3" Content="m" Foreground="Blue" VerticalAlignment="Top" Margin="-4,0,0,0"></Label>
    </Grid>
</UserControl>
